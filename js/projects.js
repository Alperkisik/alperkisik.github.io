const projects = [
    {
        id: 1,
        show: true,
        name: "veritasedu.net",
        type: "Web App",
        typeof: "w",
        status: "online",
        startdate: "Q3 2023",
        enddate: "Q1 2024",
        development: "developed by me",
        case: "professional",
        company: {
            name: "Veritas Academy",
            websiteLink: "https://www.veritasedu.net",
        },
        summaryShorten: true,
        summaryKeywords: ["Asp.Net MVC", "Full-Stack", "RestAPI", "C#", "Developed by Me"],
        summary: `This is the corporate website of Veritas Academy.
        It is commonly used by veritas academy's employees, teachers and students and it has many features for them.
        Mostly developed by me.`,
        websiteLink: "https://www.veritasedu.net",
        detailsLink: "/veritasedu",
        githubLink: "",
        imageSource: "./images/projects/veritas-academy/veritasedu/anasayfa-1.webp",
        keywords: [".Net Core", "C Sharp", "Asp.Net MVC 5","Asp.Net Core", "Ado.Net", "Dapper", "HTML5", "JS", "CSS", "JQuery", "MS SQL", "REST API", "Full-Stack", "DB First", "Clean Architecture"],
        projectLanguages: ["tr", "en"],
        imageGallery: [
            "./images/projects/veritas-academy/veritasedu/anasayfa-1.webp",
            "./images/projects/veritas-academy/veritasedu/veritasedu-1.webp",
            "./images/projects/veritas-academy/veritasedu/veritasedu-2.webp",
            "./images/projects/veritas-academy/veritasedu/veritasedu-3.webp",
            "./images/projects/veritas-academy/veritasedu/veritasedu-4.webp",
            "./images/projects/veritas-academy/veritasedu/footer.webp",
            "./images/projects/veritas-academy/veritasedu/login.webp",
            "./images/projects/veritas-academy/veritasedu/studentportal-1.webp",
            "./images/projects/veritas-academy/veritasedu/studentportal-2.webp",
            "./images/projects/veritas-academy/veritasedu/questionbanks-1.webp",
            "./images/projects/veritas-academy/veritasedu/questionbanks-2.webp",
            "./images/projects/veritas-academy/veritasedu/questionbanks-3.webp",
            "./images/projects/veritas-academy/veritasedu/questionbanks-4.webp",
            "./images/projects/veritas-academy/veritasedu/exam-ap-1.webp",
            "./images/projects/veritas-academy/veritasedu/exam-ap-1.webp",
            "./images/projects/veritas-academy/veritasedu/exam-ap-3.webp",
            "./images/projects/veritas-academy/veritasedu/exam-ap-4.webp",
            "./images/projects/veritas-academy/veritasedu/exam-ap-3.webp",
            "./images/projects/veritas-academy/veritasedu/exam-digital-sat.webp",
            "./images/projects/veritas-academy/veritasedu/exam-random.webp",
            "./images/projects/veritas-academy/veritasedu/sat-exam-result-screen.webp",
            "./images/projects/veritas-academy/veritasedu/teacherportal-1.webp",
            "./images/projects/veritas-academy/veritasedu/teacherportal-2.webp",
            "./images/projects/veritas-academy/veritasedu/teacherportal-3.webp",
            "./images/projects/veritas-academy/veritasedu/teacherportal-4.webp",
            "./images/projects/veritas-academy/veritasedu/teacherportal-5.webp",
            "./images/projects/veritas-academy/veritasedu/teacherportal-darkmode.webp",
            "./images/projects/veritas-academy/veritasedu/public-exam-1.webp",
            "./images/projects/veritas-academy/veritasedu/public-exam-2.webp",
            "./images/projects/veritas-academy/veritasedu/public-exam-3.webp",
            "./images/projects/veritas-academy/veritasedu/public-exam-4.webp",
            "./images/projects/veritas-academy/veritasedu/public-exam-5.webp"
        ],
    },
    {
        id: 2,
        show: true,
        name: "consultancy.veritasedu.net",
        type: "Web App",
        typeof: "w",
        status: "online",
        startdate: "Q1 2023",
        enddate: "Q3 2023",
        development: "Contributed Project. Team Work",
        case: "professional",
        company: {
            name: "Veritas Academy",
            websiteLink: "https://www.veritasedu.net",
        },
        summaryShorten: true,
        summaryKeywords: ["Asp.Net MVC", "Full-Stack", "RestAPI", "C#", "Contributed"],
        summary: `This website was created to meet the needs of Veritas Academy's consultants and streamline their workflow.
    Login required in order to use this web application.
    Contributed project. Worked in a team.`,
        websiteLink: "http://www.consultancy.veritasedu.net",
        detailsLink: "/consultancy-veritasedu",
        githubLink: "",
        imageSource: "./images/projects/veritas-academy/consultancy/main-1.webp",
        keywords: [".Net Core", "C Sharp", "Asp.Net MVC 5", "Ado.Net", "Entity Framework", "HTML5", "JS", "CSS", "JQuery", "MS SQL", "REST API", "DB First"],
        projectLanguages: ["tr", "en"],
        imageGallery: [
            "./images/projects/veritas-academy/consultancy/main-1.webp",
            "./images/projects/veritas-academy/consultancy/2.webp",
            "./images/projects/veritas-academy/consultancy/3.webp",
            "./images/projects/veritas-academy/consultancy/student-profile-1.webp",
            "./images/projects/veritas-academy/consultancy/student-profile-2.webp",
            "./images/projects/veritas-academy/consultancy/student-profile-3.webp",
            "./images/projects/veritas-academy/consultancy/applications-1.webp",
            "./images/projects/veritas-academy/consultancy/edit.webp",
            "./images/projects/veritas-academy/consultancy/edit-2.webp",
            "./images/projects/veritas-academy/consultancy/admin-1.webp",
        ],
    },
    {
        id: 3,
        show: true,
        name: "belediye-sikayet.org",
        type: "Web App",
        typeof: "w",
        status: "offline",
        startdate: "Q4 2019",
        enddate: "Q1 2020",
        development: "developed by me",
        case: "professional",
        company: {
            name: "Diji.Tech",
            websiteLink: "https://www.diji.tech/",
        },
        summaryShorten: true,
        summaryKeywords: ["Django", "Full-Stack", "RestAPI", "Python", "Developed by Me"],
        summary: `This website was developed as a prototype created upon customer demands as social responsibility project, but was not published. 
    It is about interactions between citizens of Türkiye and municipalities of Türkiye. 
    Goal was to make communication easier between the municipality and the citizens and helping municipalities to solve their problems with help of citizens.`,
        websiteLink: "",
        detailsLink: "/belediye-sikayet",
        githubLink: "",
        imageSource: "./images/projects/dijitech/belediyesikayet/anasayfa.webp",
        keywords: ["Python", "Django", "Django Modelling", "HTML5", "JS", "CSS", "JQuery", "MS SQL", "REST API", "Code First"],
        projectLanguages: ["tr"],
        imageGallery: [
            "./images/projects/dijitech/belediyesikayet/anasayfa.webp",
            "./images/projects/dijitech/belediyesikayet/Desktop Ana Sayfa.webp",
            "./images/projects/dijitech/belediyesikayet/Desktop Ana Sayfa 2.webp",
            "./images/projects/dijitech/belediyesikayet/Desktop Ana Sayfa 3.webp",
            "./images/projects/dijitech/belediyesikayet/Desktop Ana Sayfa Copy 3.webp",
            "./images/projects/dijitech/belediyesikayet/Desktop Ana Sayfa Copy.webp",
            "./images/projects/dijitech/belediyesikayet/Desktop Belediye Cevaplar.webp",
            "./images/projects/dijitech/belediyesikayet/Desktop Belediye Detay.webp",
            "./images/projects/dijitech/belediyesikayet/Desktop Belediye Listesi 2.webp",
            "./images/projects/dijitech/belediyesikayet/Desktop Belediye Listesi Copy.webp",
            "./images/projects/dijitech/belediyesikayet/Desktop Belediye Şikayet Başarı.webp",
            "./images/projects/dijitech/belediyesikayet/Desktop Belediye Şikayet Oku.webp",
            "./images/projects/dijitech/belediyesikayet/Desktop Belediye Şikayet Yaz.webp",
            "./images/projects/dijitech/belediyesikayet/Desktop Etkinlikler Copy.webp",
            "./images/projects/dijitech/belediyesikayet/Desktop Etkinlikler.webp",
            "./images/projects/dijitech/belediyesikayet/Desktop Giriş Yap.webp",
            "./images/projects/dijitech/belediyesikayet/Desktop Haberler Detay.webp",
            "./images/projects/dijitech/belediyesikayet/Desktop Haberler.webp",
            "./images/projects/dijitech/belediyesikayet/Desktop Hakkımızda.webp",
            "./images/projects/dijitech/belediyesikayet/Desktop Harita Detay.webp",
            "./images/projects/dijitech/belediyesikayet/Desktop İletişim.webp",
            "./images/projects/dijitech/belediyesikayet/Desktop Kullanım Koşulları.webp",
            "./images/projects/dijitech/belediyesikayet/Desktop Sıkça Sorulan Sorular.webp",
            "./images/projects/dijitech/belediyesikayet/Desktop Tablet İl Detay.webp",
            "./images/projects/dijitech/belediyesikayet/Desktop Üye Ol.webp",
            "./images/projects/dijitech/belediyesikayet/Desktop Yan Menu.webp",
            "./images/projects/dijitech/belediyesikayet/Profilim.webp",
            "./images/projects/dijitech/belediyesikayet/Şifremi Unuttum.webp",
        ],
    },
    {
        id: 4,
        show: true,
        name: "Veritas Questions",
        type: "Desktop App",
        typeof: "d",
        status: "online",
        startdate: "Q4 2019",
        enddate: "Q1 2020",
        development: "Contributed Project. Team Work",
        case: "professional",
        company: {
            name: "Veritas Academy",
            websiteLink: "https://www.veritasedu.net",
        },
        summaryShorten: false,
        summaryKeywords: ["Windows Forms", "C#", "Contributed"],
        summary: `This is a desktop automation application created for building and editing Veritas Academy Digital Questionbank Archive.
    Contributed Project.`,
        websiteLink: "",
        detailsLink: "/veritas-questions",
        githubLink: "",
        imageSource: "./images/projects/veritas-academy/veritas-questions/ib-1.webp",
        keywords: [".Net Core", "C Sharp", "Windows Form Application", "Ado.Net", "Entity Framework", "MS SQL", "DB First"],
        projectLanguages: ["tr", "en"],
        imageGallery: [
            "./images/projects/veritas-academy/veritas-questions/1.webp",
            "./images/projects/veritas-academy/veritas-questions/2.webp",
            "./images/projects/veritas-academy/veritas-questions/highschool-1.webp",
            "./images/projects/veritas-academy/veritas-questions/ib-1.webp",
            "./images/projects/veritas-academy/veritas-questions/ib-1.webp",
            "./images/projects/veritas-academy/veritas-questions/ib-2.webp",
            "./images/projects/veritas-academy/veritas-questions/sat-1.webp",
            "./images/projects/veritas-academy/veritas-questions/sat-2.webp",
        ],
    },
    {
        id: 5,
        show: true,
        name: "Warhammer Fantasy Card Battles",
        type: "Desktop App",
        typeof: "d",
        status: "online",
        startdate: "Q3 2018",
        enddate: "Q3 2018",
        development: "developed by me",
        case: "case study",
        company: {
            name: "self",
            websiteLink: "",
        },
        summaryShorten: true,
        summaryKeywords: ["Windows Forms", "C#", "Game", "Developed by Me"],
        summary: `This is a turn based card game inspired by warhammer fantasy universe made by windows form application.
    I created this game just for fun. Game has playable 3 factions, each faction has its own tricks. Game currently available on my github.`,
        websiteLink: "",
        detailsLink: "/warhammer-fantasy-card-battles.html",
        githubLink: "https://github.com/Alperkisik/Warhammer-Fantasy-Battles-Card-Game",
        imageSource: "./images/projects/my-projects/warhammer/warhammer.webp",
        keywords: [".Net Core", "C Sharp", "Windows Form Application"],
        projectLanguages: ["en"],
        imageGallery: [
            "./images/projects/my-projects/warhammer/warhammer.webp",
            "./images/projects/my-projects/warhammer/w-1.webp",
            "./images/projects/my-projects/warhammer/w-1-1.webp",
            "./images/projects/my-projects/warhammer/w-1-2.webp",
            "./images/projects/my-projects/warhammer/w-1.webp",
            "./images/projects/my-projects/warhammer/w-2.webp",
            "./images/projects/my-projects/warhammer/w-3.webp",
            "./images/projects/my-projects/warhammer/w-4.webp",
        ],
    },
    {
        id: 6,
        show: true,
        name: "Crew Party",
        type: "Mobile App",
        typeof: "m",
        status: "offline",
        startdate: "Q4 2021",
        enddate: "Q4 2021",
        development: "developed by me",
        case: "professional",
        company: {
            name: "Pasatempos Games",
            websiteLink: "https://www.instagram.com/pasatemposgames/",
        },
        summaryShorten: true,
        summaryKeywords: ["Unity Game Engine", "C#", "Game", "Developed by Me"],
        summary: `This is a hyper casual game prototype that i created by myself with unity game engine. Almost published by Rolic Games. It did not pass advertisement tests. I added 5 levels, in each level is harder than previous level.
    The game is all about swiping left and right in order to gather party strength to defeat enemy encounters.
    Developed by me.`,
        websiteLink: "",
        detailsLink: "/crew-party",
        githubLink: "https://github.com/Alperkisik/Crew-Party",
        imageSource: "./images/projects/pasatempos/crew-party-1.webp",
        keywords: ["Unity Game Engine", "C Sharp", ".Net"],
        projectLanguages: ["en"],
    },
    {
        id: 7,
        show: true,
        name: "Titions",
        type: "Mobile App",
        typeof: "m",
        status: "offline",
        startdate: "Q4 2021",
        enddate: "Q4 2021",
        development: "developed by me",
        case: "professional",
        company: {
            name: "Pasatempos Games",
            websiteLink: "https://www.instagram.com/pasatemposgames/",
        },
        summaryShorten: true,
        summaryKeywords: ["Unity Game Engine", "C#", "Game", "Developed by Me"],
        summary: `This is a hyper casual game prototype that i created by myself with unity game engine. Almost published by Rolic Games. It did not pass advertisement tests. I added 3 levels.
    The game is all about gathering minions (called tition in game) around the map. Player's Character is growing to the next stage when gathering enough. At final stage, player's character battling with boss. 
    Inspired from Attack on Titans Anime series. Developed by me.`,
        websiteLink: "",
        detailsLink: "/titions",
        githubLink: "",
        imageSource: "./images/projects/pasatempos/titions-1.webp",
        keywords: ["Unity Game Engine", "C Sharp", ".Net"],
        projectLanguages: ["en"],
    },
    {
        id: 8,
        show: true,
        name: "Yolcu.com",
        type: "Web App",
        typeof: "w",
        status: "online",
        startdate: "Q2 2021",
        enddate: "Q3 2020",
        development: "Contributed Project. Team Work",
        case: "professional",
        company: {
            name: "Diji.Tech",
            websiteLink: "https://www.diji.tech/",
        },
        summaryShorten: false,
        summaryKeywords: ["Django", "Front-End", "RestAPI", "Python", "Contributed"],
        summary: `This is a web application created by diji.tech developers.
    It is about buying online bus,plane tickets for travel. I am just contributed on front-end part.`,
        websiteLink: "https://www.yolcu.com",
        detailsLink: "",
        githubLink: "",
        imageSource: "./images/projects/dijitech/yolcu/y-1.webp",
        keywords: ["Python", "Django", "Django Modelling", "HTML5", "JS", "CSS", "JQuery", "MS SQL", "REST API", "Code First"],
        projectLanguages: ["tr"],
    },
    {
        id: 9,
        show: true,
        name: "Go Game",
        type: "Desktop App",
        typeof: "d",
        status: "offline",
        startdate: "Q2 2012",
        enddate: "Q2 2012",
        development: "Contributed Project. Team Work.",
        case: "case study",
        company: {
            name: "self",
            websiteLink: "",
        },
        summaryShorten: true,
        summaryKeywords: ["Windows Forms", "C#", "Developed by Me"],
        summary: `This is a Windows Form Application game based on Go Game from far East Culture.
    Developed as a high school graduation project. I lead a team with 2 other students.
    I designed and developed all game logic behind. We decided user interface and database designs as a team. 
    Due to very old version of .Net and sqlce library no longer available, this application is no longer available.`,
        websiteLink: "",
        detailsLink: "/go-game",
        githubLink: "https://github.com/Alperkisik/The-Go-Game",
        imageSource: "./images/projects/my-projects/go/go-1.webp",
        keywords: [".Net", "MS SqlCe", "MS Sql lite", "C Sharp", "Windows Form Application", "Ado.Net", "DB First"],
        projectLanguages: ["tr"],
        imageGallery: [
            "./images/projects/my-projects/go/go-1.webp",
            "./images/projects/my-projects/go/go-2.webp",
            "./images/projects/my-projects/go/go-3.webp",
            "./images/projects/my-projects/go/go-4.webp",
            "./images/projects/my-projects/go/go-5.webp",
        ],
    },
    {
        id: 10,
        show: true,
        name: "Simple NBA Simulator",
        type: "Desktop App",
        typeof: "d",
        status: "online",
        startdate: "Q1 2012",
        enddate: "Q1 2012",
        development: "developed by me.",
        case: "case study",
        company: {
            name: "self",
            websiteLink: "",
        },
        summaryShorten: false,
        summaryKeywords: ["Windows Forms", "C#", "Developed by Me"],
        summary: `This is a Windows Form Application game based on NBA Basketball league. Each team has stats and every match simulated by 4 period every offensive and defensive states of the teams.
    Teams has offensive and defensive stats, there is a change range to making score for offensive team and blocking score change range for defending team on each offensive. At the end, high scored team wins.`,
        websiteLink: "",
        detailsLink: "",
        githubLink: "https://github.com/Alperkisik/Simple-NBA-Simulator",
        imageSource: "./images/projects/my-projects/nba/nba-1.jpg",
        keywords: [".Net", "C Sharp", "Windows Form Application", "Ado.Net"],
        projectLanguages: ["tr"],
        imageGallery: [
            "./images/projects/my-projects/nba/nba-1.jpg",
            "./images/projects/my-projects/nba/nba-2.jpg",
            "./images/projects/my-projects/nba/nba-3.jpg",
            "./images/projects/my-projects/nba/nba-4.jpg",
            "./images/projects/my-projects/nba/nba-5.jpg",
        ],
    },
    {
        id: 11,
        show: true,
        name: "Simple Equation Solver",
        type: "Desktop App",
        typeof: "d",
        status: "online",
        startdate: "Q3 2018",
        enddate: "Q3 2018",
        development: "developed by me.",
        case: "case study",
        company: {
            name: "self",
            websiteLink: "",
        },
        summaryShorten: false,
        summaryKeywords: ["Windows Forms", "C#", "Developed by Me"],
        summary: `This is a Windows Form Application which has an equation solving logic which is solving 1st degree equation with 1 unknown.`,
        websiteLink: "",
        detailsLink: "",
        githubLink: "https://github.com/Alperkisik/Equation-Solver",
        imageSource: "./images/projects/my-projects/equation/equation-1.jpg",
        keywords: [".Net", "C Sharp", "Windows Form Application", "Ado.Net"],
        projectLanguages: ["tr"],
        imageGallery: [],
    },
    {
        id: 12,
        show: true,
        name: "Simple Population Simulator",
        type: "Console App",
        typeof: "d",
        status: "online",
        startdate: "Q3 2018",
        enddate: "Q3 2018",
        development: "developed by me.",
        case: "case study",
        company: {
            name: "self",
            websiteLink: "",
        },
        summaryShorten: false,
        summaryKeywords: ["Windows Console", "C#", "Developed by Me"],
        summary: `This is a Console Application which is calculation population growth each day according to random event encounters.`,
        websiteLink: "",
        detailsLink: "",
        githubLink: "https://github.com/Alperkisik/Simple-Population-Simulator",
        imageSource: "./images/projects/my-projects/populationSim/1.jpg",
        keywords: [".Net", "C Sharp", "Windows Form Application", "Ado.Net"],
        projectLanguages: ["tr"],
        imageGallery: [],
    },
    {
        id: 13,
        show: true,
        name: "oyunsektoru.org",
        type: "Web App",
        typeof: "w",
        status: "offline",
        startdate: "Q4 2020",
        enddate: "Q1 2021",
        development: "developed by me",
        case: "professional",
        company: {
            name: "Diji.Tech",
            websiteLink: "https://www.diji.tech/",
        },
        summaryShorten: false,
        summaryKeywords: ["Django", "Full-Stack", "RestAPI", "Python", "Developed by Me"],
        summary: `This was a forum website, aims for bringing together of all Turkish Gaming Industry components from developers to gaming studios into one platform. 
        It was a site where developers could ask questions and find solutions through the forum like stackoverflow. Unfortunately project was shutdown.`,
        websiteLink: "",
        detailsLink: "",
        githubLink: "",
        imageSource: "",
        keywords: ["Djangp", "Python", "HTML", "CSS", "Javascript", "JQuery", "Rest API", "Code First"],
        projectLanguages: ["tr"],
        imageGallery: [],
    },
    {
        id: 14,
        show: true,
        name: "Clone 2048",
        type: "Mobile App",
        typeof: "m",
        status: "offline",
        startdate: "Q4 2021",
        enddate: "Q4 2021",
        development: "developed by me",
        case: "case study",
        company: {
            name: "",
            websiteLink: "",
        },
        summaryShorten: false,
        summaryKeywords: ["Unity Game Engine", "C#", "Developed by Me"],
        summary: `This is a famous 2048 mobile game clone prototype. Game is all about reaching 2048 number as in the original game. Check video clip on <a href="https://www.youtube.com/shorts/A1PtQMnGdsA" target="_blank">youtube</a>.`,
        websiteLink: "",
        detailsLink: "",
        githubLink: "https://github.com/Alperkisik/Clone-2048",
        imageSource: "./images/projects/my-projects/unity/2048.jpg",
        keywords: ["Unity Game Engine", "C#"],
        projectLanguages: ["en"],
        imageGallery: [],
    },
];

const sortDataByQuarterYear = (_projects) => {
    return _projects.sort(function (a, b) {
        var endDateA = a.enddate.split(" ")[1] + a.enddate.split(" ")[0].replace("Q", "");
        var endDateB = b.enddate.split(" ")[1] + b.enddate.split(" ")[0].replace("Q", "");

        return endDateB.localeCompare(endDateA);
    });
};

const truncateString = (str) => {
    var maxLength = 160;
    if (str.length > maxLength) {
        var truncatedStr = str.slice(0, maxLength) + ".....";
        return truncatedStr;
    } else {
        return str;
    }
};

const createHeader = () => {
    let headerHtml = `
    <nav class="navbar navbar-expand-sm navbar-toggleable-sm bg-transparent color-white">
      <div class="container">
          <a class="navbar-brand" href="./"><img class="home-page-icon" src="./favico.png" /></a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target=".navbar-collapse"
              aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
              <i class="fa-solid fa-bars fa-2x color-white"></i>
          </button>
          <div class="navbar-collapse collapse d-sm-inline-flex justify-content-between">
              <ul class="navbar-nav">
                  <li class="nav-item">
                      <a class="nav-link" href="./">Home</a>
                  </li>
                  <li class="nav-item">
                      <a class="nav-link" href="./#about-me">About Me</a>
                  </li>
                  <li class="nav-item">
                      <a class="nav-link" href="./#services">Services</a>
                  </li>
                  <li class="nav-item">
                      <a class="nav-link" href="./#portfolio">Portfolio</a>
                  </li>
              </ul>
          </div>
      </div>
    </nav>
  `;

    document.getElementsByTagName("header").innerHTML = headerHtml;
};

const summaryKeywordsHtml = (keywords) => {
    let html = '<div class="mt-1"><ul class="keywords">';

    keywords.forEach((item) => {
        html += `<li>${item}</li>`;
    });

    html += "</ul></div>";

    return html;
};

const statusBadgesHtml = (project) => {
    let date = project.startdate;
    if (project.enddate !== date) date += ` to ${project.enddate}`;

    let html = `<div class="d-flex flex-row flex-wrap gap-2">`;

    if (project.typeof === "w")
        html += `
        <div class="status-badge">
            Status: <span class="status-${project.status}">${project.status}</span>
        </div>
        `;

    html += `
    <div class="status-badge">
        ${date}
    </div>
    `;

    html += "</div>";

    return html;
};

const createProjects = () => {
    const projectsGrid = document.getElementById("projectsGrid");

    //let showableProjects = projects.filter((item) => item.show === true);
    const sortedProjects = sortDataByQuarterYear(projects);

    projectsGrid.innerHTML = "";
    sortedProjects.forEach((project) => {
        let buttonContainer = `<div class="button-container">`;
        if (project.detailsLink.length > 0) {
            buttonContainer += `<a class="cstm-btn-blue" href="${project.detailsLink}">More Info</a>`;
        }

        if (project.websiteLink.length > 0) {
            buttonContainer += `<a class="cstm-btn-blue" href="${project.websiteLink}" target="_blank">Go to website</a>`;
        } else if ((project.websiteLink.length === 0) & (project.githubLink.length > 0)) {
            buttonContainer += `
              <a class="cstm-btn-purple" href="${project.githubLink}" target="_blank">
                <i class="fa-brands fa-github me-2"></i>
                Github
              </a>`;
        }

        buttonContainer += "</div>";

        if ((project.detailsLink.length === 0) & (project.websiteLink.length === 0) & (project.githubLink.length === 0)) buttonContainer = "";

        let summaryString = project.summary;
        if (project.summaryShorten === true) summaryString = truncateString(project.summary);

        let projectHtml = `
          <div class="grid-item" name="project" p-typeof="${project.typeof}">
              <img src="${project.imageSource}" alt="${project.name} project">
              <div class="overlay">
                  <div>
                      <h3>${project.name}</h3>
                      <h4>${project.type}</h4>
                      ${summaryKeywordsHtml(project.summaryKeywords)}
                  </div>
                  ${statusBadgesHtml(project)}
                  <p>
                      ${summaryString}
                  </p>
                  ${buttonContainer}
              </div>
          </div>
          `;

        if (project.imageSource.length === 0) {
            projectHtml = `
      <div class="grid-item" name="project" p-typeof="${project.typeof}">
        <div class="imageless-grid-item-content">
          <div>
              <h3>${project.name}</h3>
              <h4>${project.type}</h4>
              ${summaryKeywordsHtml(project.summaryKeywords)}
          </div>
          ${statusBadgesHtml(project)}
          <p>
              ${summaryString}
          </p>
          ${buttonContainer}
        </div>
      </div>
      `;
        }

        projectsGrid.innerHTML += projectHtml;
    });
};

const filterBy = (filter) => {
    var elements = document.querySelectorAll('div[name="project"]');

    elements.forEach((element) => {
        setTimeout(() => {
            element.classList.remove("d-none");
            element.style.opacity = "1";
            element.style.height = "auto";
            element.style.maxWidth = "100%";
        }, 500);

        if (element.getAttribute("p-typeof") !== filter) {
            element.style.opacity = "0";
            setTimeout(() => {
                element.style.height = "0";
                element.style.maxWidth = "0";
                element.classList.add("d-none");
            }, 500);
        }
    });
};

const showAll = () => {
    var elements = document.querySelectorAll('div[name="project"]');
    elements.forEach((element) => {
        if (element.classList.contains("d-none")) {
            element.classList.remove("d-none");
            element.style.opacity = "0";
            element.style.height = "0";
            element.style.maxWidth = "0";

            setTimeout(() => {
                element.style.opacity = "1";
                element.style.height = "auto";
                element.style.maxWidth = "100%";
            }, 500);
        }
    });
};

const setupClickEvent = () => {
    const listItems = document.querySelectorAll(".sorting-list li");

    listItems.forEach((item) => {
        item.addEventListener("click", function () {
            if (this.classList.contains("active") === true) {
                return;
            }

            listItems.forEach((li) => {
                li.classList.remove("active");
            });

            this.classList.add("active");

            let filter = this.getAttribute("data-p");
            if (filter === "all") showAll();
            else filterBy(filter);
        });
    });
};

const setupGallery = (project) => {
    if (project.imageGallery === null || project.imageGallery === undefined) {
        document.getElementById("project-img-gallery").remove();
        return;
    }

    const imageGallery = document.createElement("div");
    imageGallery.classList = "gallery";

    project.imageGallery.forEach((imageSrc) => {
        const img = document.createElement("img");
        img.src = imageSrc;

        imageGallery.append(img);
    });

    document.getElementById("project-img-gallery").append(imageGallery);

    imageGallery.addEventListener("click", function (event) {
        if (event.target.tagName === "IMG") {
            $("#imageModal").modal("toggle");

            document.getElementById("modalImage").src = event.target.getAttribute("src");
        }
    });
};

const setupKeywords = (project) => {
    const keywords = document.getElementById("project-keywords");
    project.keywords.forEach((keyword) => {
        const li = document.createElement("li");
        li.innerHTML = keyword;

        keywords.append(li);
    });
};

const setupMainImage = (imageSource) => {
    //document.getElementById("projectMainImage").setAttribute("src", imageSource);
    document.querySelector(".title-image").remove();
};

const setupTitle = (project) => {
    const headers = document.getElementById("headers");

    let titleHtml = `<h1 class="theme-title-1 color-fushia-2 mb-2" id="projectTitle">${project.name}</h1>`;

    let companyHtml = `
        <h2 class="theme-title-2" id="projectType">
            <span class="color-blue">Company : </span>
            <a href="${project.company.websiteLink}" target="_blank" >${project.company.name}</a>
        </h2>`;

    if (project.company.name === "self") companyHtml = `<h2 class="theme-title-2 color-blue" id="projectType">Case Study</h2>`;

    headers.innerHTML += titleHtml;
    headers.innerHTML += companyHtml;
};

const setupStatusDateLinkSummary = (project) => {
    const statusBadge = document.getElementById("status-badge");

    if (project.typeof === "d" && project.case === "professional") {
        const parent = statusBadge.parentElement;

        parent.innerHTML = "Status : Not Used Anymore";
        if (project.status === "online") parent.innerHTML = "Status : Actively used";
    } else if (project.typeof === "d" && project.case === "case study") {
        statusBadge.parentElement.remove();
    } else {
        statusBadge.classList = `status-${project.status}`;
        statusBadge.innerHTML = project.status;
    }

    const dType = document.getElementById("dType");
    dType.innerHTML = project.development;

    let date = "Date : " + project.startdate;
    if (project.enddate !== date) date += ` to ${project.enddate}`;
    document.getElementById("date-badge").innerHTML = date;

    const languagebadge = document.getElementById("Language-badge");
    languagebadge.innerHTML = "Language: ";

    let text = "Language : ";
    project.projectLanguages.forEach((item) => {
        text += item + ",";
    });

    languagebadge.innerHTML = text.substring(0, text.length - 1);

    if (project.websiteLink.length > 0) {
        const btn = document.getElementById("gotowebsiteBtn");
        btn.setAttribute("href", project.websiteLink);
    } else {
        document.getElementById("gotowebsiteBtn").remove();
    }

    if (project.githubLink.length > 0) {
        const btn = document.getElementById("gotogithubBtn");
        btn.setAttribute("href", project.githubLink);
    } else {
        document.getElementById("gotogithubBtn").remove();
    }

    document.getElementById("summary").innerHTML = project.summary;
};

document.addEventListener("DOMContentLoaded", function () {
    const currentPageUrl = window.location.href;
    const urlParts = currentPageUrl.split("/");
    console.log(urlParts)
    let urlLastPart = urlParts[urlParts.length - 1];
    if (urlLastPart.includes("#")) urlLastPart = urlLastPart.split("#")[0];

    if (urlLastPart.length === 0 || urlLastPart.includes("index.html")) {
        setupClickEvent();
        createProjects();

        return;
    }

    const project = projects.find((item) => {
        let detailsLink = item.detailsLink.replace("./", "");
        return urlLastPart === detailsLink;
    });

    setupMainImage(project.imageSource);
    setupTitle(project);
    setupKeywords(project);
    setupStatusDateLinkSummary(project);
    setupGallery(project);

    //meta title
    document.title = project.name + " Project";
    var metaTag = document.querySelector('meta[name="title"]');
    metaTag.setAttribute("content", "Alper Kısık Portfolio | " + document.title);

    //meta keywords
    var metaKeywords = document.querySelector('meta[name="keywords"]');
    let keywords = "Alper Kısık, software developer portfolio, " + project.name;
    metaKeywords.setAttribute("content", keywords);

    //meta description
    var metaDescription = document.querySelector('meta[name="description"]');
    let description = project.summary;
    metaDescription.setAttribute("content", description);
});
